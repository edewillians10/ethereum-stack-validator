- name: Ensure Grafana dashboards directory exists
  ansible.builtin.file:
    path: "{{ grafana_dashboard_dir }}"
    state: directory
    owner: grafana
    group: grafana
    mode: "0755"
  tags: grafana_dashboards

- name: Install beacon sync dashboard
  ansible.builtin.template:
    src: eth-beacon-sync-dashboard.json.j2
    dest: "{{ grafana_dashboard_dir }}/{{ grafana_beacon_sync_dashboard_filename }}"
    owner: grafana
    group: grafana
    mode: "0644"
  tags: grafana_dashboards
